<html>
<head>

</head>
<h1 align="center" >PTT LAB ASSIGNMENT-2</h1>
<script>
var sar1 = new Array();
var sar2 = new Array();
var m;
var n;
var arr;
var s1;
var s2;
var ins,del,rep;
function align()
{
//alert("function");
 s1=document.getElementById('x').value;
 s2=document.getElementById('y').value;
 ins=parseInt(document.getElementById('in').value);
 del=parseInt(document.getElementById('del').value);
 rep=parseInt(document.getElementById('rep').value);
 m = s1.length;
 n = s2.length;
 var i;
 var j;
 //var sar1 = new Array();
sar1 = s1.split('');

 //var sar2 = new Array();
sar2 = s2.split('');
//alert("loop split");
 arr = new Array(m);
for(var k=0;k<m+1;k++){
		arr[k] = new Array(n);
		}

for(i=0;i<m+1;i++)
         {
             for(j=0;j<n+1;j++)
             {arr[i][j]=0;}
			 
		 }
		 //alert("loop1");
		 
  for(var p=0;p<n+1;p++)
         arr[0][p]=p;  
  for(var p=0;p<m+1;p++)
              arr[p][0]=p;
//alert("loop2");			  
	

for(i=1;i<m+1;i++)
         {
		
             for(j=1;j<n+1;j++)
             {
				var di= diff(i,j);
                 arr[i][j]=min(arr[i][j-1]+del,arr[i-1][j]+ins,arr[i-1][j-1]+di); 
             }
         }	
		
for(i=0;i<m+1;i++)
         {
             for(j=0;j<n+1;j++)
             {
			
			//document.write(arr[i][j] + " ");
			q.innerHTML=q.innerHTML+arr[i][j]+"  ";
				
             }//document.write("<br>");
			 q.innerHTML=q.innerHTML+"<br>";
			 }
         //document.write("<br>");
		  q.innerHTML=q.innerHTML+"<br>";
		 //System.out.println();}
			alert("cost = " + arr[m][n]);
          //System.out.println("The effective cost of this string allignment is cost "+arr[m][n]);
         fun();
         
    		
	
	
	
}
function diff(x,y)
    {
        if(sar1[x-1]==sar2[y-1])
            return 0;
        else
            return rep;
    }
function min( i, j, k)
    {
        var l=i;
        if(l>j) l=j;
        if(l>k) l=k;
        return l;
    }
	
function fun()
{
    var t1="";
	var t2="";
   while(m>0 && n>0){
if(arr[m-1][n-1]==min(arr[m-1][n-1],arr[m][n-1],arr[m-1][n])){
t1=s1.charAt(m-1)+t1;
t2=s2.charAt(n-1)+t2;
m--;
n--;
}
else if(arr[m][n-1]==min(arr[m-1][n-1],arr[m][n-1],arr[m-1][n])){
t1="-"+t1;
t2=s2.charAt(n-1)+t2;
n--;
}
else if(arr[m-1][n]==min(arr[m-1][n-1],arr[m][n-1],arr[m-1][n])){
t2="-"+t2;
t1=s1.charAt(m-1)+t1;
m--;

}

}
if(m>0){
while(m>0){
t1=s1.charAt(m-1)+t1;
t2="-"+t2;
m--;
}
}else if(n>0){
while(n>0){
t2=s2.charAt(n-1)+t2;
t1="-"+t1;
n--;
}
} 
q.innerHTML=q.innerHTML+t1+"<br>"+t2;
//document.write(t1);
//document.write("<br>");
//document.write(t2);
//System.out.println(t1);
//System.out.println(t2);

}

	
	
</script>
<br>
<br>

<table align='center' border='1' cellpadding="5" >

<tr><td>String_1 </td><td><input id="x" type="text"></td></tr>
<tr><td>String_2 </td><td><input id="y" type="text"></td></tr>
<tr><td>insertion cost</td><td><input id="in" type="text"></td></tr>
<tr><td>deletion cost</td><td><input id="del" type="text"></td></tr>
<tr><td>replacement cost</td><td><input id="rep" type="text"></td></tr>
<tr><td>        </td><td><button type="button" onclick="align()" >Click here to align</button></td></tr>
<tr></tr>
</table>
<br> <br>
<hr>
<body bgcolor="#CCCC7A" ></body>
<p align="center" id="q"></p>
<p id="r"></p>

</html>